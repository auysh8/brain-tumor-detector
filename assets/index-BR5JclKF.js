import{j as e,M as L,a as U,b as D,r as l,F as N,B as M,c as k,I as P,d as O,G as v,e as z,f as w,g as T,h as B,i as $,k as G}from"./vendor-Jwe5OXzm.js";import{l as H,f as q}from"./tensorflow-Bf7aDEq2.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function _(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(s){if(s.ep)return;s.ep=!0;const r=_(s);fetch(s.href,r)}})();const K="_top_bar_1i6l1_1",W="_app_name_logo_1i6l1_17",J="_nav_bar_1i6l1_33",Q="_nav_items_1i6l1_39",x={top_bar:K,app_name_logo:W,nav_bar:J,nav_items:Q},V=({isDarkMode:t,toggleDarkMode:a})=>e.jsxs("div",{className:x.top_bar,children:[e.jsxs("div",{className:x.app_name_logo,children:[e.jsx(L,{}),e.jsx("span",{className:"appname",children:"NeuroScanAI"})]}),e.jsx("div",{className:x.nav_bar,children:e.jsxs("ul",{className:x.nav_items,children:[e.jsx("li",{children:e.jsx("span",{children:"Upload"})}),e.jsx("li",{children:e.jsx("span",{children:"About"})})]})}),e.jsx("button",{onClick:a,children:t?e.jsx(U,{}):e.jsx(D,{})})]}),X="_main_container_11bn4_11",Y="_header_icon_11bn4_26",Z="_heading_11bn4_39",ee="_instructions_11bn4_47",se="_input_area_11bn4_55",ne="_icon_circle_11bn4_86",re="_drop_title_11bn4_99",te="_drop_subtitle_11bn4_106",ae="_submit_button_11bn4_111",oe="_footer_11bn4_132",ie="_preview_11bn4_144",i={main_container:X,header_icon:Y,heading:Z,instructions:ee,input_area:se,icon_circle:ne,drop_title:re,drop_subtitle:te,submit_button:ae,footer:oe,preview:ie},ce=({onClick:t})=>{const[a,_]=l.useState(null),[c,s]=l.useState(null),r=d=>{const p=d.target.files?.[0];if(p){s(p);const g=URL.createObjectURL(p);_(g)}};return e.jsxs("div",{className:i.main_container,children:[e.jsx("div",{className:i.header_icon,children:e.jsx(N,{})}),e.jsx("h1",{className:i.heading,children:"Upload MRI Scans"}),e.jsx("p",{className:i.instructions,children:"Drag and drop your DICOM or NIfTI files for secure, AI-powered neurological analysis."}),e.jsxs("div",{className:i.input_area,children:[e.jsx("input",{type:"file",name:"file_upload",id:"file_upload",onChange:r}),a?e.jsx("img",{className:i.preview,src:a,alt:"MRI Scan",height:"200px"}):e.jsxs("label",{htmlFor:"file_upload",children:[e.jsx("div",{className:i.icon_circle,children:e.jsx(N,{})}),e.jsx("span",{className:i.drop_title,children:"Drop files to analyze"}),e.jsx("span",{className:i.drop_subtitle,children:"or click to browse"})]})]}),e.jsxs("button",{className:i.submit_button,onClick:()=>c&&t(c),children:[e.jsx(M,{size:18,style:{transform:"rotate(90deg)"}}),e.jsx("span",{children:"Analyze Scans"}),e.jsx(k,{size:16})]}),e.jsxs("div",{className:i.footer,children:[e.jsx(P,{size:14}),e.jsx("span",{children:"Data is encrypted end-to-end and processed in compliance with HIPAA regulations."})]})]})},le="_main_container_tg67x_1",_e="_error_wrapper_tg67x_14",de="_error_header_tg67x_20",pe="_title_section_tg67x_32",me="_title_text_tg67x_40",ue="_warning_badge_tg67x_56",xe="_dashed_box_tg67x_71",ge="_icon_circle_tg67x_85",he="_action_buttons_tg67x_111",je="_btn_primary_tg67x_118",be="_success_wrapper_tg67x_158",fe="_analysis_status_tg67x_164",ye="_results_row_tg67x_175",Ne="_tumor_type_tg67x_184",ve="_tags_group_tg67x_190",we="_confidence_score_tg67x_195",Me="_urgency_tg67x_205",Se="_valid_image_tg67x_215",n={main_container:le,error_wrapper:_e,error_header:de,title_section:pe,title_text:me,warning_badge:ue,dashed_box:xe,icon_circle:ge,action_buttons:he,btn_primary:je,success_wrapper:be,analysis_status:fe,results_row:ye,tumor_type:Ne,tags_group:ve,confidence_score:we,urgency:Me,valid_image:Se},Ie=({results:t,onReset:a,image:_})=>{const c=t.predictions==="Not an MRI"||t.isError,s=t.predictions==="No Tumor",r=()=>c?{backgroundColor:"#F97316",boxShadow:"0 4px 12px rgba(249, 115, 22, 0.3)"}:s?{backgroundColor:"#27ae60",boxShadow:"0 4px 12px rgba(39, 174, 96, 0.3)"}:{backgroundColor:"#E11D48",boxShadow:"0 4px 12px rgba(225, 29, 72, 0.3)"};return e.jsx("div",{className:n.main_container,children:c?e.jsxs("div",{className:n.error_wrapper,children:[e.jsxs("div",{className:n.error_header,children:[e.jsx(O,{size:16}),e.jsx("span",{children:"Processing Error"})]}),e.jsxs("div",{className:n.title_section,children:[e.jsxs("div",{className:n.title_text,children:[e.jsx("h1",{children:"Scan Processing Failed"}),e.jsx("p",{children:"The uploaded file is not an MRI scan. Please ensure you are uploading a valid MRI scan."})]}),e.jsxs("div",{className:n.warning_badge,children:[e.jsx(v,{}),e.jsx("span",{children:"Invalid Format"})]})]}),e.jsxs("div",{className:n.dashed_box,children:[e.jsx("div",{className:n.icon_circle,children:e.jsx(z,{size:32,color:"#F97316"})}),e.jsx("h3",{children:"Preview Unavailable"}),e.jsx("p",{children:"We cannot generate a preview because the file structure does not match standard MRI data"})]}),e.jsx("div",{className:n.action_buttons,children:e.jsxs("button",{className:n.btn_primary,style:r(),onClick:a,children:[e.jsx(w,{}),e.jsx("span",{children:"Upload New Scan"})]})})]}):e.jsxs("div",{className:n.success_wrapper,children:[e.jsxs("div",{className:n.analysis_status,style:{color:s?"#27ae60":"#E11D48"},children:[s?e.jsx(T,{}):e.jsx(v,{}),e.jsx("span",{children:"Analysis Complete"})]}),e.jsxs("div",{className:n.results_row,children:[e.jsx("span",{className:n.tumor_type,children:s?"No Anomaly Detected":`Anomaly Detected: ${t.predictions}`}),e.jsxs("div",{className:n.tags_group,children:[e.jsxs("span",{className:n.confidence_score,style:{backgroundColor:s?"#27ae60":"#E11D48"},children:[e.jsx(M,{style:{marginRight:"6px"}}),t.confidence,"% Confidence"]}),e.jsxs("span",{className:n.urgency,children:["Urgency: ",t.urgency]})]})]}),e.jsx("img",{src:_,alt:"MRI Scan",className:n.valid_image}),e.jsx("div",{className:n.action_buttons,children:e.jsxs("button",{className:n.btn_primary,style:r(),onClick:a,children:[e.jsx(w,{}),e.jsx("span",{children:"Upload New Scan"})]})})]})})},Ae="_loading_wrapper_4twsm_2",Re="_loading_card_4twsm_13",Ce="_animation_container_4twsm_28",Fe="_icon_circle_4twsm_39",Ee="_spinner_overlay_4twsm_53",Le="_pulse_ring_4twsm_68",Ue="_title_4twsm_80",De="_subtitle_4twsm_88",ke="_progress_bar_container_4twsm_97",Pe="_progress_fill_4twsm_107",o={loading_wrapper:Ae,loading_card:Re,animation_container:Ce,icon_circle:Fe,spinner_overlay:Ee,pulse_ring:Le,title:Ue,subtitle:De,progress_bar_container:ke,progress_fill:Pe},Oe=()=>e.jsx("div",{className:o.loading_wrapper,children:e.jsxs("div",{className:o.loading_card,children:[e.jsxs("div",{className:o.animation_container,children:[e.jsx("div",{className:o.pulse_ring}),e.jsx("div",{className:o.icon_circle,children:e.jsx(B,{className:o.brain_icon})}),e.jsx("div",{className:o.spinner_overlay,children:e.jsx($,{})})]}),e.jsxs("div",{className:o.text_content,children:[e.jsx("h2",{className:o.title,children:"Analyzing Scan"}),e.jsx("p",{className:o.subtitle,children:"Our AI is processing the MRI data. This usually takes a few seconds..."})]}),e.jsx("div",{className:o.progress_bar_container,children:e.jsx("div",{className:o.progress_fill})})]})}),ze={0:"Glioma",1:"Meningioma",2:"No Tumor",3:"Pituitary"};function Te(){const[t,a]=l.useState(!1),[_,c]=l.useState(null),[s,r]=l.useState(null),[d,p]=l.useState(null),[g,f]=l.useState(!1);l.useEffect(()=>{(async()=>{try{const m=await H("/model/model.json");c(m)}catch(m){console.error(m)}})()},[]);const S=()=>{a(!t)},I=async y=>{f(!0),p(null);const m=URL.createObjectURL(y);r(m);try{const h=new Promise(u=>setTimeout(u,3e3));if(_){const u=new Image;u.src=m,await new Promise(E=>u.onload=E);const A=q(u).resizeNearestNeighbor([224,224]).toFloat().expandDims(),j=await _.predict(A).data(),R=Array.from(j).indexOf(Math.max(...Array.from(j))),b=ze[R],C=(Math.max(...Array.from(j))*100).toFixed(2),F=b==="No Tumor"||b==="Not an MRI"?"None":"High";await h,p({predictions:b,confidence:C,urgency:F,isError:!1})}}catch(h){console.error(h),p({predictions:"Error",confidence:"0",urgency:"None",isError:!0})}finally{f(!1)}};return e.jsxs("div",{className:t?"dark":"",children:[e.jsx(V,{isDarkMode:t,toggleDarkMode:S}),g?e.jsx(Oe,{}):d&&s?e.jsx(Ie,{results:d,image:s,onReset:()=>p(null)}):e.jsx(ce,{onClick:I})]})}G.createRoot(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(Te,{})}));
